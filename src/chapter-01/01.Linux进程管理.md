## Linux 进程管理

进程管理在任何操作系统中都是最重要的任务之一。高效的进程管理使应用程序能够稳定有效地运行。

Linux 进程管理实现类似于 UNIX® 实现。它包括进程调度、中断处理、信号发送、进程优先级、进程切换、进程状态、进程内存等等。

在本节中，我们将讨论 Linux 进程管理的原理。 这些知识可以帮助我们理解 Linux 内核是如何通过进程管理来影响系统性能的。

## 进程是什么？

进程是程序执行时运行在处理器上的一个实例。进程可以使用 Linux 内核可以处理的任何资源来完成它的任务。

Linux 操作系统上运行的所有进程都由 `task_struct` 结构体管理，该结构体也称为进程描述符（Process Descriptor）。进程描述符包含单个进程运行所需的所有信息，如进程标识、进程属性和构建进程的资源。如果您了解进程结构，就可以理解对进程执行和性能来说什么是重要的。[@fig:task_struct] 展示了进程结构概要。

```{#fig:task_struct .plot:dot caption="task_struct 结构体"}
digraph task_struct {
    node[shape="record"]
    rankdir="LR"
    subgraph cluster_task_struct {
        peripheries=0
        label="task_struct 结构体"
        task_struct[label="<state>state\n(Process State)|<thread>thread_info\n(Process information\n and kernel stack)|..|<que>run_list,array\n(For process scheduling)|..|<mm>mm\n(Process adress space)|..|pid\n(Process ID)|..|<group>group_info\n(Group managemet)|..|<user>user\n(User management)|..|<fs>fs\n(Working directory\nRoot directory)|<files>files\n(File descriptor)|..|<signal>signal\n(Signal information)|<sighand>sighand\n(Signal  handler)|.."]
    }
    
    subgraph cluster_thread_info {
        peripheries=0
        label="thread_info 结构体"
        thread_info[label="<task>task|exec_domain|flags|status|Kernel stack"]
    }
    
    subgraph cluster_other {
        peripheries=0
        label="其他结构体"
        runqueue[label="runqueue"]
        mm_struct[label="mm_struct"]
        group_info[label="group_info"]
        user_struct[label="user_struct"]
        fs_struct[label="fs_struct"]
        files_struct[label="files_struct"]
        signal_struct[label="signal_struct"]
        sighand_struct[label="sighand_struct"]
    }
    
    task_struct:thread -> thread_info:task
    thread_info:task:n -> task_struct:state
    task_struct:que -> runqueue
    task_struct:mm -> mm_struct
    task_struct:group -> group_info
    task_struct:user -> user_struct
    task_struct:fs -> fs_struct
    task_struct:files -> files_struct
    task_struct:signal -> signal_struct
    task_struct:sighand -> sighand_struct
}
```