## 监控工具
在本节中，我们将讨论监控工具。大多数工具都是在 Enterprise Linux 发行版中提供的。您应该熟悉这些工具。

### top
top 命令实时显示进程活动。默认情况下，top 显示占用 CPU 最多的任务，并每 5 秒更新一次列表。您也可以按 PID（数值）、age（最新在前）、time（累积时间）、驻留内存（resident memory）使用情况和 time（进程自启动以来占用 CPU 的时间）对进程进行排序。

```{#lst:example_top}
top - 19:41:32 up 15 days, 19:49,  1 user,  load average: 0.25, 0.21, 0.18
Tasks: 189 total,   1 running, 188 sleeping,   0 stopped,   0 zombie
%Cpu(s):  1.3 us,  5.1 sy,  0.0 ni, 93.6 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
MiB Mem :   3793.3 total,    250.2 free,    815.1 used,   2727.9 buff/cache
MiB Swap:      0.0 total,      0.0 free,      0.0 used.   2927.1 avail Mem 

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
 699270 ubuntu    20   0   10688   3084   2716 R  17.6   0.1   0:00.05 top
      1 root      20   0  173720  14292   7472 S   0.0   0.4  15:09.93 systemd
      2 root      20   0       0      0      0 S   0.0   0.0   0:03.27 kthreadd
      3 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_gp
      4 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_par_gp
      8 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 mm_percpu_wq
      9 root      20   0       0      0      0 S   0.0   0.0   6:39.65 ksoftirqd/0
     10 root      20   0       0      0      0 I   0.0   0.0  19:52.54 rcu_preempt
     11 root      rt   0       0      0      0 S   0.0   0.0   0:10.36 migration/0
     12 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject/0
     14 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp/0
     15 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp/1
     16 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject/1
     17 root      rt   0       0      0      0 S   0.0   0.0   0:10.14 migration/1
     18 root      20   0       0      0      0 S   0.0   0.0   0:41.60 ksoftirqd/1
```

您可以使用 **renice** 进一步修改进程，为每个进程赋予新的优先级。当某个进程挂起或占用过多 CPU 时，可以使用 **kill** 命令杀死该进程。

各列的含义：

PID
:	进程标识

USER
:	拥有（可能是启动）进程的用户名。

PRI^[原文为 PRI，应对应 top 输出的 PR]
:	进程的优先级。（详见 1.1.4 节 “进程优先级和 nice 级别”)

NI
:	nice 级别（进程是否尝试通过给定的数字调整优先级来达到亲和性。详情请看下文）。

SIZE^[原文为 SIZE，应对应 top 输出的 VIRT]
:	进程使用的内存数量（code+data+stack），单位为千字节。

RSS^[原文为 RSS，应对应 top 输出的 RES]
:	使用的物理 RAM 数量，单位为千字节。

SHARE^[原文为 SHARE，应对应 top 输出的 SHR]
:	与其他进程共享的内存量，单位为千字节。

STAT^[原文为 STAT，应对应 top 输出的 S]
:	进程状态：S=休眠（sleeping），R=运行（running），T=停止或跟踪（stopped or traced），D =可中断睡眠（interruptible sleep），Z =僵尸（zombie）。参见 1.1.7 节“进程状态”。

%CPU
:	CPU 使用率（自上次屏幕更新以来）。

%MEM
:	内存使用率

TIME
:	进程使用的总 CPU 时间（自它启动以来）。

COMMAND
:	用于启动任务的命令行（包括参数）。

top 实用程序支持几个有用的热键，包括：

t
:	显示摘要信息开关。

m 
:	显示内存信息开关。

A 
:	根据各种系统资源的顶级消费者对显示进行排序，有助于快速识别系统中影响性能的任务。

f 
:	进入 **top** 的交互式配置屏幕。有助于为特定的任务设置 **top**。

o
:	使您能够交互式地选择顶部的排序。

r
:	执行 **renice** 命令。

k 
:	执行 **kill** 命令。

### vmstat

### uptime

### ps and pstree

### free

### iostat

### sar

### mpstat

### numastat

### pmap

### netstat

### iptraf

### tcpdump/ethereal

### nmon

### strace

### Proc file system

### KED System Guard

### Gnome System Monitor

### 容量管理